<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="https://img.icons8.com/?size=100&id=gn5j3rcOh3hP&format=png&color=000000" type="image/x-icon">
    <title>Tự động đăng ký lớp</title>
</head>
<body>
    <h1>Nhập các mã lớp (có dấu phẩy phân cách)</h1>
    <input type="text" id="userInput" placeholder="Ví dụ: 158444,158444,158444" />
    <button onclick="processInput()">Xử lý</button>
    <h3>Kết quả:</h3>
    <pre><code  id="output"></code></pre>
    <button onclick="copyToClipboard()">Sao chép mã JavaScript</button>
    <hr>
    <h1>Hướng dẫn</h1>
    <p>Ở trang đăng ký F12 &#8594; console &#8594; paste code vừa copy vào là ok!!!</p>
    <script>
        function processInput() {    
            const userInput = document.getElementById('userInput').value;   
            const dataArray = userInput.split(',');
            const jsCode = `
                const dataArray = ${JSON.stringify(dataArray)}; 
                const inputBox = document.querySelector('#ctl00_ctl00_ASPxSplitter1_Content_ContentSplitter_MainContent_ASPxCallbackPanel1_tbDirectClassRegister_I'); 
                const submitButton = document.querySelector('#ctl00_ctl00_ASPxSplitter1_Content_ContentSplitter_MainContent_ASPxCallbackPanel1_btDirectClassRegister'); 
                let currentIndex = 0;
                function autoFillAndClick() {
                    if (currentIndex < dataArray.length) {            
                        inputBox.value = dataArray[currentIndex];
                        submitButton.click();            
                        console.log(\`Submitted: \${dataArray[currentIndex]}\`);
                        currentIndex++;
                        setTimeout(autoFillAndClick, 3000);
                    } else {
                        console.log("All strings have been submitted.");
                    }
                }
                autoFillAndClick();
            `;
            document.getElementById('output').textContent = jsCode;
        }

        function copyToClipboard() {
            const outputText = document.getElementById('output').textContent;
            const textarea = document.createElement('textarea');
            textarea.value = outputText;
            document.body.appendChild(textarea);
            textarea.select();
            document.execCommand('copy');
            document.body.removeChild(textarea);
            alert('Mã JavaScript đã được sao chép vào clipboard!');
        }
    </script>
</body>
</html>
